[services.wkd]
image = "nginx"
container_name = "wkd"
volumes = [
  "/var/www/wkd:/wkd:ro",
  "./nginx.conf:/etc/nginx/conf.d/default.conf",
]
networks = ["proxy"]
restart = "unless-stopped"
labels = [
  "traefik.enable=true",
  "traefik.docker.network=proxy",
  "traefik.http.routers.wkd.entrypoints=https",
  "traefik.http.routers.wkd.middlewares=secHeaders@file,compress@file",
  "traefik.http.routers.wkd.rule=Host(`openpgpkey.korhonen.cc`)",
  "traefik.http.routers.wkd.service=wkd",
  "traefik.http.services.wkd.loadbalancer.server.port=80",
]

[networks.proxy]
external = true
