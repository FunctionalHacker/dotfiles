[user]
{%@@ if profile == "mko-laptop" @@%}
email = marko.korhonen@netforecast.com
{%@@ else @@%}
email = marko@korhonen.cc
{%@@ endif @@%}
name = Marko Korhonen
signingkey = F2B9F713E7ED627336DD85E444FA3F28CD931BB0

[commit]
signoff = true
gpgsign = true

[tag]
gpgSign = true
signoff = true

[format]
signoff = true

[merge]
conflictstyle = zdiff3

[mergetool]
keepBackup = false
prompt = false

[mergetool "nvim"]
cmd = nvim +DiffviewOpen

[pull]
rebase = merges

[alias]
upstream = !git push -u origin HEAD
sync = !git pull && git push
recommit = !git commit -eF $(git rev-parse --git-dir)/COMMIT_EDITMSG
pull-merge = pull --no-rebase --no-ff --no-edit
log-merge = log -i --grep=merge --pretty=oneline
log-fp = log --first-parent --pretty=oneline
ll = log --pretty=oneline
dno = !git --no-pager diff --name-only
diffh = diff HEAD~1 HEAD

[init]
defaultBranch = main

[credential]
helper = cache --timeout=600
helper = !pass-git-helper $@

[rerere]
enabled = true

[submodule]
recurse = true

[push]
recurseSubmodules = check

[core]
pager = delta

[interactive]
diffFilter = delta --color-only

[delta]
navigate = true  # use n and N to move between diff sections
